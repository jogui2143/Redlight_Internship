  [1m[35m (219.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "myapp_test"[0m
  [1m[35m (1043.2ms)[0m  [1m[35mCREATE DATABASE "myapp_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (27.8ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (11.6ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "applicants" CASCADE[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE TABLE "applicants" ("id" bigserial primary key, "name" character varying, "phone" character varying, "email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_applicants_on_email" ON "applicants" ("email")[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_applicants_on_name" ON "applicants" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "applicants_roles" CASCADE[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "applicants_roles" ("id" bigserial primary key, "applicant_id" bigint NOT NULL, "role_id" bigint NOT NULL, "status" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_applicants_roles_on_applicant_id" ON "applicants_roles" ("applicant_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_applicants_roles_on_role_id" ON "applicants_roles" ("role_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "roles" CASCADE[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "roles" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_roles_on_name" ON "roles" ("name")[0m
  [1m[35m (9.4ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (7.1ms)[0m  [1m[35mALTER TABLE "applicants_roles" ADD CONSTRAINT "fk_rails_ebed80372e"
FOREIGN KEY ("applicant_id")
  REFERENCES "applicants" ("id")
[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "applicants_roles" ADD CONSTRAINT "fk_rails_625c3823a5"
FOREIGN KEY ("role_id")
  REFERENCES "roles" ("id")
[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230523222453)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230522142216),
(20230522142300),
(20230522142537);

[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-05-25 23:38:27.583468"], ["updated_at", "2023-05-25 23:38:27.583468"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "7846f9a291d57407b700394293645a6728eeab19"], ["created_at", "2023-05-25 23:38:27.590486"], ["updated_at", "2023-05-25 23:38:27.590486"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.9ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-25 23:53:17.312553', '2023-05-25 23:53:17.312553'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-25 23:53:17.312553', '2023-05-25 23:53:17.312553');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-25 23:53:17.317178', '2023-05-25 23:53:17.317178'), (298486374, 298486374, 298486374, 1, '2023-05-25 23:53:17.317178', '2023-05-25 23:53:17.317178');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-25 23:53:17.319143', '2023-05-25 23:53:17.319143'), (298486374, 'Backend', '2023-05-25 23:53:17.319143', '2023-05-25 23:53:17.319143')[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (40.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
RolesControllerTest - test_should_create_role: NameError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
RolesControllerTest - test_should_destroy_role: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
ApplicantsControllerTest - test_should_create_applicant: NameError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.5ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
ApplicantsControllerTest - test_should_destroy_applicant: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.4ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-25 23:57:19.643157', '2023-05-25 23:57:19.643157'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-25 23:57:19.643157', '2023-05-25 23:57:19.643157');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-25 23:57:19.648277', '2023-05-25 23:57:19.648277'), (298486374, 298486374, 298486374, 1, '2023-05-25 23:57:19.648277', '2023-05-25 23:57:19.648277');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-25 23:57:19.650501', '2023-05-25 23:57:19.650501'), (298486374, 'Backend', '2023-05-25 23:57:19.650501', '2023-05-25 23:57:19.650501')[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
RolesControllerTest - test_should_destroy_role: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
RolesControllerTest - test_should_create_role: NameError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
ApplicantsControllerTest - test_should_destroy_applicant: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
ApplicantsControllerTest - test_should_create_applicant: NameError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-25 23:57:19 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (1.7ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 44ms (Views: 0.4ms | ActiveRecord: 4.0ms | Allocations: 14749)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.9ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-25 23:57:56.065134', '2023-05-25 23:57:56.065134'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-25 23:57:56.065134', '2023-05-25 23:57:56.065134');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-25 23:57:56.069451', '2023-05-25 23:57:56.069451'), (298486374, 298486374, 298486374, 1, '2023-05-25 23:57:56.069451', '2023-05-25 23:57:56.069451');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-25 23:57:56.071483', '2023-05-25 23:57:56.071483'), (298486374, 'Backend', '2023-05-25 23:57:56.071483', '2023-05-25 23:57:56.071483')[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-25 23:57:56 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-25T23:57:56.065Z", "updated_at"=>"2023-05-25T23:57:56.065Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffff8cff6d60>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-25T23:57:56.065Z", "updated_at"=>"2023-05-25T23:57:56.065Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 11751)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-25 23:57:56 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.4ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.6ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 1691)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-25 23:57:56 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1649)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-25 23:57:56 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-25T23:57:56.065Z", "updated_at"=>"2023-05-25T23:57:56.065Z"}}, "name"=>"Maria", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffff8e003870>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-25T23:57:56.065Z", "updated_at"=>"2023-05-25T23:57:56.065Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (1.6ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Maria"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-25 23:57:56.300615"], ["updated_at", "2023-05-25 23:57:56.300615"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 6ms (ActiveRecord: 1.9ms | Allocations: 1056)
ApplicantsControllerTest - test_should_create_applicant: ActiveRecord::RecordNotUnique raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-25 23:57:56 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (0.7ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.3ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 2.3ms | Allocations: 2705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
RolesControllerTest - test_should_destroy_role: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
RolesControllerTest - test_should_create_role: NameError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (2.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-25 23:58:24.964816', '2023-05-25 23:58:24.964816'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-25 23:58:24.964816', '2023-05-25 23:58:24.964816');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-25 23:58:24.969110', '2023-05-25 23:58:24.969110'), (298486374, 298486374, 298486374, 1, '2023-05-25 23:58:24.969110', '2023-05-25 23:58:24.969110');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-25 23:58:24.971198', '2023-05-25 23:58:24.971198'), (298486374, 'Backend', '2023-05-25 23:58:24.971198', '2023-05-25 23:58:24.971198')[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-25 23:58:25 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-25T23:58:24.964Z", "updated_at"=>"2023-05-25T23:58:24.964Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffffafae05b0>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-25T23:58:24.964Z", "updated_at"=>"2023-05-25T23:58:24.964Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 11750)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-25 23:58:25 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1653)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-25 23:58:25 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 1570)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-25 23:58:25 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (0.6ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 2705)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.4ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-25 23:58:25 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-25T23:58:24.964Z", "updated_at"=>"2023-05-25T23:58:24.964Z"}}, "name"=>"Maria", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffffb0ae9e70>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-25T23:58:24.964Z", "updated_at"=>"2023-05-25T23:58:24.964Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (1.3ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Maria"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-25 23:58:25.202808"], ["updated_at", "2023-05-25 23:58:25.202808"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.6ms | Allocations: 1050)
ApplicantsControllerTest - test_should_create_applicant: ActiveRecord::RecordNotUnique raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-25 23:58:25 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"Frontend"}, "id"=>"980190962"}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.4ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 2763)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-25 23:58:25 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 1438)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-25 23:58:25 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.3ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 936)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-25 23:58:25 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 2783)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-25 23:58:25 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"Frontend"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (1.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Frontend"], ["created_at", "2023-05-25 23:58:25.287603"], ["updated_at", "2023-05-25 23:58:25.287603"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.4ms | Allocations: 693)
RolesControllerTest - test_should_create_role: ActiveRecord::RecordNotUnique raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.4ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-25 23:59:20.463106', '2023-05-25 23:59:20.463106'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-25 23:59:20.463106', '2023-05-25 23:59:20.463106');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-25 23:59:20.467876', '2023-05-25 23:59:20.467876'), (298486374, 298486374, 298486374, 1, '2023-05-25 23:59:20.467876', '2023-05-25 23:59:20.467876');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-25 23:59:20.470055', '2023-05-25 23:59:20.470055'), (298486374, 'Backend', '2023-05-25 23:59:20.470055', '2023-05-25 23:59:20.470055')[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-25 23:59:20 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 33ms (Views: 0.4ms | ActiveRecord: 3.5ms | Allocations: 17304)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-25 23:59:20 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1461)
  [1m[36mRole Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-25 23:59:20 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"Frontend"}, "id"=>"980190962"}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1984)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-25 23:59:20 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1438)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-25 23:59:20 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"Frontend"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (1.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Frontend"], ["created_at", "2023-05-25 23:59:20.677171"], ["updated_at", "2023-05-25 23:59:20.677171"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.3ms | Allocations: 881)
RolesControllerTest - test_should_create_role: ActiveRecord::RecordNotUnique raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-25 23:59:20 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 3525)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-25 23:59:20 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.1ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 1503)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-25 23:59:20 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-25T23:59:20.463Z", "updated_at"=>"2023-05-25T23:59:20.463Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.5ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffff7c9fe530>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-25T23:59:20.463Z", "updated_at"=>"2023-05-25T23:59:20.463Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1863)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-25 23:59:20 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1391)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-25 23:59:20 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-25T23:59:20.463Z", "updated_at"=>"2023-05-25T23:59:20.463Z"}}, "name"=>"Maria", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffff7c9bc928>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-25T23:59:20.463Z", "updated_at"=>"2023-05-25T23:59:20.463Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (1.2ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Maria"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-25 23:59:20.756401"], ["updated_at", "2023-05-25 23:59:20.756401"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 1.6ms | Allocations: 835)
ApplicantsControllerTest - test_should_create_applicant: ActiveRecord::RecordNotUnique raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.6ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-26 00:03:09.914503', '2023-05-26 00:03:09.914503'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-26 00:03:09.914503', '2023-05-26 00:03:09.914503');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-26 00:03:09.921835', '2023-05-26 00:03:09.921835'), (298486374, 298486374, 298486374, 1, '2023-05-26 00:03:09.921835', '2023-05-26 00:03:09.921835');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-26 00:03:09.925277', '2023-05-26 00:03:09.925277'), (298486374, 'Backend', '2023-05-26 00:03:09.925277', '2023-05-26 00:03:09.925277')[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:03:10 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (1.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 3.2ms | Allocations: 14304)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:03:10 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:03:09.914Z", "updated_at"=>"2023-05-26T00:03:09.914Z"}}, "name"=>"Maria", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffffa68b4fb0>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:03:09.914Z", "updated_at"=>"2023-05-26T00:03:09.914Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (1.2ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Maria"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-26 00:03:10.116215"], ["updated_at", "2023-05-26 00:03:10.116215"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 1.5ms | Allocations: 1389)
ApplicantsControllerTest - test_should_create_applicant: ActiveRecord::RecordNotUnique raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:03:10 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:03:09.914Z", "updated_at"=>"2023-05-26T00:03:09.914Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffffa688e810>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:03:09.914Z", "updated_at"=>"2023-05-26T00:03:09.914Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1878)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:03:10 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 1546)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:03:10 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (0.8ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 2705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:03:10 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 0.4ms | ActiveRecord: 1.2ms | Allocations: 2419)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:03:10 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"test"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (0.7ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2023-05-26 00:03:10.214308"], ["updated_at", "2023-05-26 00:03:10.214308"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190963]]
Completed 201 Created in 4ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 1226)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:03:10 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"test"}, "id"=>"980190962"}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Update (0.4ms)[0m  [1m[33mUPDATE "roles" SET "name" = $1, "updated_at" = $2 WHERE "roles"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:03:10.225434"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 1937)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:03:10 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 923)
  [1m[36mRole Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:03:10 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.3ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 2783)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (3.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.7ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-26 00:03:37.524741', '2023-05-26 00:03:37.524741'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-26 00:03:37.524741', '2023-05-26 00:03:37.524741');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-26 00:03:37.529748', '2023-05-26 00:03:37.529748'), (298486374, 298486374, 298486374, 1, '2023-05-26 00:03:37.529748', '2023-05-26 00:03:37.529748');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-26 00:03:37.531943', '2023-05-26 00:03:37.531943'), (298486374, 'Backend', '2023-05-26 00:03:37.531943', '2023-05-26 00:03:37.531943')[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:03:37 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 29ms (Views: 0.4ms | ActiveRecord: 1.9ms | Allocations: 14300)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:03:37 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:03:37.524Z", "updated_at"=>"2023-05-26T00:03:37.524Z"}}, "name"=>"Maria", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffff7fcedfe0>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:03:37.524Z", "updated_at"=>"2023-05-26T00:03:37.524Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (1.8ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Maria"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-26 00:03:37.705910"], ["updated_at", "2023-05-26 00:03:37.705910"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 6ms (ActiveRecord: 2.1ms | Allocations: 1389)
ApplicantsControllerTest - test_should_create_applicant: ActiveRecord::RecordNotUnique raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:03:37 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:03:37.524Z", "updated_at"=>"2023-05-26T00:03:37.524Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffff7fcc7868>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:03:37.524Z", "updated_at"=>"2023-05-26T00:03:37.524Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.3ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1878)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:03:37 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (0.5ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 2706)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:03:37 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.4ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 1539)
  [1m[36mApplicant Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:03:37 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 2419)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:03:37 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"test"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (0.9ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2023-05-26 00:03:37.787250"], ["updated_at", "2023-05-26 00:03:37.787250"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190963]]
Completed 201 Created in 6ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 1226)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:03:37 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"test"}, "id"=>"980190962"}
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Update (0.2ms)[0m  [1m[33mUPDATE "roles" SET "name" = $1, "updated_at" = $2 WHERE "roles"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:03:37.800546"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.3ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1937)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:03:37 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.3ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 1.3ms | Allocations: 2783)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:03:37 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.1ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 923)
  [1m[36mRole Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (3.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.0ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-26 00:03:56.343217', '2023-05-26 00:03:56.343217'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-26 00:03:56.343217', '2023-05-26 00:03:56.343217');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-26 00:03:56.348427', '2023-05-26 00:03:56.348427'), (298486374, 298486374, 298486374, 1, '2023-05-26 00:03:56.348427', '2023-05-26 00:03:56.348427');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-26 00:03:56.350570', '2023-05-26 00:03:56.350570'), (298486374, 'Backend', '2023-05-26 00:03:56.350570', '2023-05-26 00:03:56.350570')[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:03:56 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 33ms (Views: 0.4ms | ActiveRecord: 3.0ms | Allocations: 17366)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:03:56 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"test"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (0.6ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2023-05-26 00:03:56.553433"], ["updated_at", "2023-05-26 00:03:56.553433"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.5ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190963]]
Completed 201 Created in 5ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 1669)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:03:56 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"test"}, "id"=>"980190962"}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Update (0.3ms)[0m  [1m[33mUPDATE "roles" SET "name" = $1, "updated_at" = $2 WHERE "roles"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:03:56.566231"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 2139)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:03:56 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1438)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:03:56 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.3ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1117)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:03:56 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 3525)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:03:56 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:03:56.343Z", "updated_at"=>"2023-05-26T00:03:56.343Z"}}, "name"=>"Maria", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffff9a0b3db8>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:03:56.343Z", "updated_at"=>"2023-05-26T00:03:56.343Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (0.9ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Maria"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-26 00:03:56.628641"], ["updated_at", "2023-05-26 00:03:56.628641"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.2ms | Allocations: 1061)
ApplicantsControllerTest - test_should_create_applicant: ActiveRecord::RecordNotUnique raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:03:56 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:03:56.343Z", "updated_at"=>"2023-05-26T00:03:56.343Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffff9a091650>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:03:56.343Z", "updated_at"=>"2023-05-26T00:03:56.343Z"}}, "name"=>"Maria", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1882)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:03:56 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.3ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 1391)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:03:56 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1328)
  [1m[36mApplicant Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-26 00:04:32.549616', '2023-05-26 00:04:32.549616'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-26 00:04:32.549616', '2023-05-26 00:04:32.549616');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-26 00:04:32.554099', '2023-05-26 00:04:32.554099'), (298486374, 298486374, 298486374, 1, '2023-05-26 00:04:32.554099', '2023-05-26 00:04:32.554099');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-26 00:04:32.556881', '2023-05-26 00:04:32.556881'), (298486374, 'Backend', '2023-05-26 00:04:32.556881', '2023-05-26 00:04:32.556881')[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:04:32 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:04:32.549Z", "updated_at"=>"2023-05-26T00:04:32.549Z"}}, "name"=>"test", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffff907f86c8>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:04:32.549Z", "updated_at"=>"2023-05-26T00:04:32.549Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Update (0.3ms)[0m  [1m[33mUPDATE "applicants" SET "name" = $1, "updated_at" = $2 WHERE "applicants"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:04:32.725374"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 12183)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:04:32 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 1653)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:04:32 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1538)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:04:32 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:04:32.549Z", "updated_at"=>"2023-05-26T00:04:32.549Z"}}, "name"=>"test", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffff91bb4040>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:04:32.549Z", "updated_at"=>"2023-05-26T00:04:32.549Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (0.7ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "test"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-26 00:04:32.780664"], ["updated_at", "2023-05-26 00:04:32.780664"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (3.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "7quqizqk2unltnpanepl19h9u9mf"], ["filename", "default-user-image.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 1497], ["checksum", "EwABhHPMADgYeqoOJgT6Jw=="], ["created_at", "2023-05-26 00:04:32.822493"]]
  [1m[36mActiveStorage::Attachment Create (3.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "avatar"], ["record_type", "Applicant"], ["record_id", 980190963], ["blob_id", 1], ["created_at", "2023-05-26 00:04:32.826520"]]
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "updated_at" = $1 WHERE "applicants"."id" = $2[0m  [["updated_at", "2023-05-26 00:04:32.831017"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (6.9ms) [0m[32mUploaded file to key: 7quqizqk2unltnpanepl19h9u9mf (checksum: EwABhHPMADgYeqoOJgT6Jw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d444d928-ee1f-4b55-8130-d9375eedfdf6) to Test(default) with arguments: #<GlobalID:0x0000ffff91af82c8 @uri=#<URI::GID gid://internship/ActiveStorage::Blob/1>>
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190963]]
Completed 201 Created in 68ms (Views: 0.2ms | ActiveRecord: 10.7ms | Allocations: 20017)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:04:32 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (0.5ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 2752)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:04:32 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"test"}, "id"=>"980190962"}
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Update (0.3ms)[0m  [1m[33mUPDATE "roles" SET "name" = $1, "updated_at" = $2 WHERE "roles"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:04:32.875207"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 3028)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:04:32 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 1438)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:04:32 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.4ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 927)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:04:32 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"test"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (0.6ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2023-05-26 00:04:32.915668"], ["updated_at", "2023-05-26 00:04:32.915668"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190963]]
Completed 201 Created in 4ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1048)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:04:32 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 2783)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.0ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-26 00:09:58.493565', '2023-05-26 00:09:58.493565'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-26 00:09:58.493565', '2023-05-26 00:09:58.493565');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-26 00:09:58.498174', '2023-05-26 00:09:58.498174'), (298486374, 298486374, 298486374, 1, '2023-05-26 00:09:58.498174', '2023-05-26 00:09:58.498174');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-26 00:09:58.500374', '2023-05-26 00:09:58.500374'), (298486374, 'Backend', '2023-05-26 00:09:58.500374', '2023-05-26 00:09:58.500374')[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (18.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:09:58 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"test"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (0.7ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2023-05-26 00:09:58.697963"], ["updated_at", "2023-05-26 00:09:58.697963"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190963]]
Completed 201 Created in 19ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 7696)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:09:58 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.3ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 4493)
  [1m[36mRole Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:09:58 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"test"}, "id"=>"980190962"}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Update (0.2ms)[0m  [1m[33mUPDATE "roles" SET "name" = $1, "updated_at" = $2 WHERE "roles"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:09:58.741758"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 7274)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:09:58 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.3ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1719)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:09:58 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 1.5ms | Allocations: 2804)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:09:58 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:09:58.493Z", "updated_at"=>"2023-05-26T00:09:58.493Z"}}, "name"=>"test", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffffba9e9098>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:09:58.493Z", "updated_at"=>"2023-05-26T00:09:58.493Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (0.7ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "test"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-26 00:09:58.800597"], ["updated_at", "2023-05-26 00:09:58.800597"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "ht7venuzg2zhmywqvrqunoko05h3"], ["filename", "default-user-image.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 1497], ["checksum", "EwABhHPMADgYeqoOJgT6Jw=="], ["created_at", "2023-05-26 00:09:58.834389"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "avatar"], ["record_type", "Applicant"], ["record_id", 980190963], ["blob_id", 2], ["created_at", "2023-05-26 00:09:58.835982"]]
  [1m[36mApplicant Update (0.3ms)[0m  [1m[33mUPDATE "applicants" SET "updated_at" = $1 WHERE "applicants"."id" = $2[0m  [["updated_at", "2023-05-26 00:09:58.837422"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (5.7ms) [0m[32mUploaded file to key: ht7venuzg2zhmywqvrqunoko05h3 (checksum: EwABhHPMADgYeqoOJgT6Jw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 44c71fbc-4b0f-4a1f-894f-15036e91a9ec) to Test(default) with arguments: #<GlobalID:0x0000ffffba923078 @uri=#<URI::GID gid://internship/ActiveStorage::Blob/2>>
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190963]]
Completed 201 Created in 50ms (Views: 0.1ms | ActiveRecord: 5.5ms | Allocations: 21038)
  [1m[36mApplicant Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:09:58 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.1ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1479)
  [1m[36mApplicant Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:09:58 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:09:58.493Z", "updated_at"=>"2023-05-26T00:09:58.493Z"}}, "name"=>"test", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffffba8de388>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:09:58.493Z", "updated_at"=>"2023-05-26T00:09:58.493Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "name" = $1, "updated_at" = $2 WHERE "applicants"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:09:58.875167"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 1936)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:09:58 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1391)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:09:58 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 2686)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_create_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started POST "/api/v1/applicants_roles" for 127.0.0.1 at 2023-05-26 00:09:58 +0000
Processing by Api::V1::ApplicantsRolesController#create as JSON
  Parameters: {"role_id"=>980190962, "applicant_id"=>980190962, "applicants_role"=>{"applicant_id"=>980190962, "role_id"=>980190962}}
  [1m[36mCACHE Applicant Load (0.0ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Create (0.8ms)[0m  [1m[32mINSERT INTO "applicants_roles" ("applicant_id", "role_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["status", nil], ["created_at", "2023-05-26 00:09:58.931926"], ["updated_at", "2023-05-26 00:09:58.931926"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 1895)
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_destroy_applicant_role
-----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
ApplicantsRolesControllerTest - test_should_destroy_applicant_role: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.9ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-26 00:10:14.735482', '2023-05-26 00:10:14.735482'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-26 00:10:14.735482', '2023-05-26 00:10:14.735482');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-26 00:10:14.740702', '2023-05-26 00:10:14.740702'), (298486374, 298486374, 298486374, 1, '2023-05-26 00:10:14.740702', '2023-05-26 00:10:14.740702');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-26 00:10:14.742967', '2023-05-26 00:10:14.742967'), (298486374, 'Backend', '2023-05-26 00:10:14.742967', '2023-05-26 00:10:14.742967')[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:10:14 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.3ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 25ms (Views: 0.3ms | ActiveRecord: 2.3ms | Allocations: 12160)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:10:14 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (0.7ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 5772)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:10:14 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:10:14.735Z", "updated_at"=>"2023-05-26T00:10:14.735Z"}}, "name"=>"test", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffffa6b55c88>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:10:14.735Z", "updated_at"=>"2023-05-26T00:10:14.735Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "name" = $1, "updated_at" = $2 WHERE "applicants"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:10:14.961416"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2460)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:10:14 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1391)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:10:14 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:10:14.735Z", "updated_at"=>"2023-05-26T00:10:14.735Z"}}, "name"=>"test", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffffa6afdfb0>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:10:14.735Z", "updated_at"=>"2023-05-26T00:10:14.735Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (0.9ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "test"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-26 00:10:14.987950"], ["updated_at", "2023-05-26 00:10:14.987950"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "tflx80o8yvunb2z2inkazty5ee4q"], ["filename", "default-user-image.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 1497], ["checksum", "EwABhHPMADgYeqoOJgT6Jw=="], ["created_at", "2023-05-26 00:10:15.019436"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "avatar"], ["record_type", "Applicant"], ["record_id", 980190963], ["blob_id", 3], ["created_at", "2023-05-26 00:10:15.021157"]]
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "updated_at" = $1 WHERE "applicants"."id" = $2[0m  [["updated_at", "2023-05-26 00:10:15.022494"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (6.1ms) [0m[32mUploaded file to key: tflx80o8yvunb2z2inkazty5ee4q (checksum: EwABhHPMADgYeqoOJgT6Jw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c68d4cd1-556b-4df8-89dd-e6e22a4ec3d2) to Test(default) with arguments: #<GlobalID:0x0000ffffa6a42a08 @uri=#<URI::GID gid://internship/ActiveStorage::Blob/3>>
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190963]]
Completed 201 Created in 47ms (Views: 0.2ms | ActiveRecord: 5.7ms | Allocations: 19977)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:10:15 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.1ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1404)
  [1m[36mRole Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:10:15 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 3331)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:10:15 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"test"}, "id"=>"980190962"}
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Update (0.3ms)[0m  [1m[33mUPDATE "roles" SET "name" = $1, "updated_at" = $2 WHERE "roles"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:10:15.070364"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.4ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 2003)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:10:15 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 1438)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:10:15 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"test"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (1.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2023-05-26 00:10:15.102776"], ["updated_at", "2023-05-26 00:10:15.102776"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.4ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190963]]
Completed 201 Created in 7ms (Views: 0.3ms | ActiveRecord: 1.9ms | Allocations: 1048)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_create_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started POST "/api/v1/applicants_roles" for 127.0.0.1 at 2023-05-26 00:10:15 +0000
Processing by Api::V1::ApplicantsRolesController#create as JSON
  Parameters: {"role_id"=>980190962, "applicant_id"=>980190962, "applicants_role"=>{"applicant_id"=>980190962, "role_id"=>980190962}}
  [1m[36mCACHE Applicant Load (0.0ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Create (1.2ms)[0m  [1m[32mINSERT INTO "applicants_roles" ("applicant_id", "role_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["status", nil], ["created_at", "2023-05-26 00:10:15.123712"], ["updated_at", "2023-05-26 00:10:15.123712"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 1894)
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_destroy_applicant_role
-----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
ApplicantsRolesControllerTest - test_should_destroy_applicant_role: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.6ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-26 00:10:44.902769', '2023-05-26 00:10:44.902769'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-26 00:10:44.902769', '2023-05-26 00:10:44.902769');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-26 00:10:44.909622', '2023-05-26 00:10:44.909622'), (298486374, 298486374, 298486374, 1, '2023-05-26 00:10:44.909622', '2023-05-26 00:10:44.909622');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-26 00:10:44.911713', '2023-05-26 00:10:44.911713'), (298486374, 'Backend', '2023-05-26 00:10:44.911713', '2023-05-26 00:10:44.911713')[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_destroy_applicant_role
-----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started DELETE "/api/v1/applicants_roles" for 127.0.0.1 at 2023-05-26 00:10:45 +0000
ApplicantsRolesControllerTest - test_should_destroy_applicant_role: ActionController::RoutingError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_create_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started POST "/api/v1/applicants_roles" for 127.0.0.1 at 2023-05-26 00:10:45 +0000
Processing by Api::V1::ApplicantsRolesController#create as JSON
  Parameters: {"role_id"=>980190962, "applicant_id"=>980190962, "applicants_role"=>{"applicant_id"=>980190962, "role_id"=>980190962}}
  [1m[36mCACHE Applicant Load (0.0ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Create (0.8ms)[0m  [1m[32mINSERT INTO "applicants_roles" ("applicant_id", "role_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["status", nil], ["created_at", "2023-05-26 00:10:45.075504"], ["updated_at", "2023-05-26 00:10:45.075504"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 17ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 8955)
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:10:45 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2446)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:10:45 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 13ms (Views: 0.4ms | ActiveRecord: 1.8ms | Allocations: 5950)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:10:45 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"test"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (0.5ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2023-05-26 00:10:45.129019"], ["updated_at", "2023-05-26 00:10:45.129019"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190963]]
Completed 201 Created in 4ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1251)
  [1m[36mRole Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:10:45 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 2797)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:10:45 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"test"}, "id"=>"980190962"}
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Update (0.2ms)[0m  [1m[33mUPDATE "roles" SET "name" = $1, "updated_at" = $2 WHERE "roles"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:10:45.154472"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.3ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 1966)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:10:45 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.3ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.3ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 1852)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:10:45 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1822)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:10:45 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:10:44.902Z", "updated_at"=>"2023-05-26T00:10:44.902Z"}}, "name"=>"test", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffff88adef70>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:10:44.902Z", "updated_at"=>"2023-05-26T00:10:44.902Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (1.0ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "test"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-26 00:10:45.201732"], ["updated_at", "2023-05-26 00:10:45.201732"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "sudjpsv9us5i9gdiocjzpq0zt9q0"], ["filename", "default-user-image.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 1497], ["checksum", "EwABhHPMADgYeqoOJgT6Jw=="], ["created_at", "2023-05-26 00:10:45.232734"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "avatar"], ["record_type", "Applicant"], ["record_id", 980190963], ["blob_id", 4], ["created_at", "2023-05-26 00:10:45.234373"]]
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "updated_at" = $1 WHERE "applicants"."id" = $2[0m  [["updated_at", "2023-05-26 00:10:45.235631"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (5.8ms) [0m[32mUploaded file to key: sudjpsv9us5i9gdiocjzpq0zt9q0 (checksum: EwABhHPMADgYeqoOJgT6Jw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ec47a34c-4ce4-4eba-8a9e-0ffe3d769e23) to Test(default) with arguments: #<GlobalID:0x0000ffff88a22708 @uri=#<URI::GID gid://internship/ActiveStorage::Blob/4>>
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190963]]
Completed 201 Created in 46ms (Views: 0.1ms | ActiveRecord: 5.8ms | Allocations: 20087)
  [1m[36mApplicant Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:10:45 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 2733)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:10:45 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:10:44.902Z", "updated_at"=>"2023-05-26T00:10:44.902Z"}}, "name"=>"test", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffff86e5d310>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:10:44.902Z", "updated_at"=>"2023-05-26T00:10:44.902Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "name" = $1, "updated_at" = $2 WHERE "applicants"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:10:45.270899"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 1935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.6ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-26 00:14:06.134646', '2023-05-26 00:14:06.134646'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-26 00:14:06.134646', '2023-05-26 00:14:06.134646');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-26 00:14:06.140320', '2023-05-26 00:14:06.140320'), (298486374, 298486374, 298486374, 1, '2023-05-26 00:14:06.140320', '2023-05-26 00:14:06.140320');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-26 00:14:06.142608', '2023-05-26 00:14:06.142608'), (298486374, 'Backend', '2023-05-26 00:14:06.142608', '2023-05-26 00:14:06.142608')[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_destroy_applicant_role
-----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started DELETE "/api/v1/applicants_roles?applicant_id=980190962&role_id=980190962" for 127.0.0.1 at 2023-05-26 00:14:06 +0000
ApplicantsRolesControllerTest - test_should_destroy_applicant_role: ActionController::RoutingError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_create_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started POST "/api/v1/applicants_roles" for 127.0.0.1 at 2023-05-26 00:14:06 +0000
Processing by Api::V1::ApplicantsRolesController#create as JSON
  Parameters: {"role_id"=>980190962, "applicant_id"=>980190962, "applicants_role"=>{"applicant_id"=>980190962, "role_id"=>980190962}}
  [1m[36mCACHE Applicant Load (0.0ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Create (0.7ms)[0m  [1m[32mINSERT INTO "applicants_roles" ("applicant_id", "role_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["status", nil], ["created_at", "2023-05-26 00:14:06.293471"], ["updated_at", "2023-05-26 00:14:06.293471"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 17ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 8935)
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:14:06 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.3ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 3.0ms | Allocations: 5519)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:14:06 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 3399)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:14:06 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:14:06.134Z", "updated_at"=>"2023-05-26T00:14:06.134Z"}}, "name"=>"test", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffffb95e93e0>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:14:06.134Z", "updated_at"=>"2023-05-26T00:14:06.134Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (1.0ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "test"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-26 00:14:06.354899"], ["updated_at", "2023-05-26 00:14:06.354899"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "bozk8p5l64nwrn9uh93efkboj6zg"], ["filename", "default-user-image.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 1497], ["checksum", "EwABhHPMADgYeqoOJgT6Jw=="], ["created_at", "2023-05-26 00:14:06.388649"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "avatar"], ["record_type", "Applicant"], ["record_id", 980190963], ["blob_id", 5], ["created_at", "2023-05-26 00:14:06.390316"]]
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "updated_at" = $1 WHERE "applicants"."id" = $2[0m  [["updated_at", "2023-05-26 00:14:06.391853"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (6.8ms) [0m[32mUploaded file to key: bozk8p5l64nwrn9uh93efkboj6zg (checksum: EwABhHPMADgYeqoOJgT6Jw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e033d060-87e2-45d6-a655-be9729203673) to Test(default) with arguments: #<GlobalID:0x0000ffffb399ed60 @uri=#<URI::GID gid://internship/ActiveStorage::Blob/5>>
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190963]]
Completed 201 Created in 51ms (Views: 0.2ms | ActiveRecord: 6.0ms | Allocations: 20213)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:14:06 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:14:06.134Z", "updated_at"=>"2023-05-26T00:14:06.134Z"}}, "name"=>"test", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffffb397ea60>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:14:06.134Z", "updated_at"=>"2023-05-26T00:14:06.134Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "name" = $1, "updated_at" = $2 WHERE "applicants"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:14:06.413958"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1975)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:14:06 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (0.5ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 2705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:14:06 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1401)
  [1m[36mRole Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:14:06 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1918)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:14:06 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"test"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (0.7ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2023-05-26 00:14:06.476597"], ["updated_at", "2023-05-26 00:14:06.476597"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190963]]
Completed 201 Created in 4ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 1184)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:14:06 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"test"}, "id"=>"980190962"}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Update (0.3ms)[0m  [1m[33mUPDATE "roles" SET "name" = $1, "updated_at" = $2 WHERE "roles"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:14:06.490316"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 1866)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:14:06 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 2783)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-26 00:14:32.602105', '2023-05-26 00:14:32.602105'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-26 00:14:32.602105', '2023-05-26 00:14:32.602105');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-26 00:14:32.607043', '2023-05-26 00:14:32.607043'), (298486374, 298486374, 298486374, 1, '2023-05-26 00:14:32.607043', '2023-05-26 00:14:32.607043');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-26 00:14:32.609175', '2023-05-26 00:14:32.609175'), (298486374, 'Backend', '2023-05-26 00:14:32.609175', '2023-05-26 00:14:32.609175')[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:14:32 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.3ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.3ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 12140)
  [1m[36mApplicant Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:14:32 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 4439)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:14:32 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:14:32.602Z", "updated_at"=>"2023-05-26T00:14:32.602Z"}}, "name"=>"test", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffff891d2610>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:14:32.602Z", "updated_at"=>"2023-05-26T00:14:32.602Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (0.6ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "test"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-26 00:14:32.817459"], ["updated_at", "2023-05-26 00:14:32.817459"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "wiithhn53u11fq3jd7ngl0rniivd"], ["filename", "default-user-image.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 1497], ["checksum", "EwABhHPMADgYeqoOJgT6Jw=="], ["created_at", "2023-05-26 00:14:32.849631"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "avatar"], ["record_type", "Applicant"], ["record_id", 980190963], ["blob_id", 6], ["created_at", "2023-05-26 00:14:32.851180"]]
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "updated_at" = $1 WHERE "applicants"."id" = $2[0m  [["updated_at", "2023-05-26 00:14:32.852413"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (6.6ms) [0m[32mUploaded file to key: wiithhn53u11fq3jd7ngl0rniivd (checksum: EwABhHPMADgYeqoOJgT6Jw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 54f99ee5-3416-4932-a808-344359daabb4) to Test(default) with arguments: #<GlobalID:0x0000ffff89110d08 @uri=#<URI::GID gid://internship/ActiveStorage::Blob/6>>
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190963]]
Completed 201 Created in 48ms (Views: 0.1ms | ActiveRecord: 5.3ms | Allocations: 20525)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:14:32 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:14:32.602Z", "updated_at"=>"2023-05-26T00:14:32.602Z"}}, "name"=>"test", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffff890f0940>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:14:32.602Z", "updated_at"=>"2023-05-26T00:14:32.602Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Update (0.3ms)[0m  [1m[33mUPDATE "applicants" SET "name" = $1, "updated_at" = $2 WHERE "applicants"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:14:32.874103"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 1975)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:14:32 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (1.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 2.3ms | Allocations: 2705)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:14:32 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.1ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1401)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:14:32 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1983)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:14:32 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"test"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (0.7ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2023-05-26 00:14:32.940342"], ["updated_at", "2023-05-26 00:14:32.940342"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190963]]
Completed 201 Created in 5ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 1185)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:14:32 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"test"}, "id"=>"980190962"}
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Update (0.2ms)[0m  [1m[33mUPDATE "roles" SET "name" = $1, "updated_at" = $2 WHERE "roles"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:14:32.951844"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.4ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 1866)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:14:32 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.4ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 2783)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_create_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started POST "/api/v1/applicants_roles" for 127.0.0.1 at 2023-05-26 00:14:32 +0000
Processing by Api::V1::ApplicantsRolesController#create as JSON
  Parameters: {"role_id"=>980190962, "applicant_id"=>980190962, "applicants_role"=>{"applicant_id"=>980190962, "role_id"=>980190962}}
  [1m[36mCACHE Applicant Load (0.0ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Create (0.7ms)[0m  [1m[32mINSERT INTO "applicants_roles" ("applicant_id", "role_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["status", nil], ["created_at", "2023-05-26 00:14:32.990546"], ["updated_at", "2023-05-26 00:14:32.990546"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1894)
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_destroy_applicant_role
-----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started DELETE "/api/v1/applicants_roles?applicant_id=980190962&role_id=980190962" for 127.0.0.1 at 2023-05-26 00:14:33 +0000
ApplicantsRolesControllerTest - test_should_destroy_applicant_role: ActionController::RoutingError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.0ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-26 00:15:48.433345', '2023-05-26 00:15:48.433345'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-26 00:15:48.433345', '2023-05-26 00:15:48.433345');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-26 00:15:48.437899', '2023-05-26 00:15:48.437899'), (298486374, 298486374, 298486374, 1, '2023-05-26 00:15:48.437899', '2023-05-26 00:15:48.437899');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-26 00:15:48.439942', '2023-05-26 00:15:48.439942'), (298486374, 'Backend', '2023-05-26 00:15:48.439942', '2023-05-26 00:15:48.439942')[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:15:48 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:15:48.433Z", "updated_at"=>"2023-05-26T00:15:48.433Z"}}, "name"=>"test", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffff866791a8>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:15:48.433Z", "updated_at"=>"2023-05-26T00:15:48.433Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Update (0.5ms)[0m  [1m[33mUPDATE "applicants" SET "name" = $1, "updated_at" = $2 WHERE "applicants"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:15:48.603633"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 12184)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:15:48 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:15:48.433Z", "updated_at"=>"2023-05-26T00:15:48.433Z"}}, "name"=>"test", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffff87a7cdd0>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:15:48.433Z", "updated_at"=>"2023-05-26T00:15:48.433Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (0.9ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "test"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-26 00:15:48.631544"], ["updated_at", "2023-05-26 00:15:48.631544"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "h4no6nwnzbx43ot7yp9kb3ds2tr0"], ["filename", "default-user-image.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 1497], ["checksum", "EwABhHPMADgYeqoOJgT6Jw=="], ["created_at", "2023-05-26 00:15:48.663302"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "avatar"], ["record_type", "Applicant"], ["record_id", 980190963], ["blob_id", 7], ["created_at", "2023-05-26 00:15:48.664977"]]
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "updated_at" = $1 WHERE "applicants"."id" = $2[0m  [["updated_at", "2023-05-26 00:15:48.666339"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (6.7ms) [0m[32mUploaded file to key: h4no6nwnzbx43ot7yp9kb3ds2tr0 (checksum: EwABhHPMADgYeqoOJgT6Jw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3e600677-967d-4702-9f68-a44873776470) to Test(default) with arguments: #<GlobalID:0x0000ffff879bfcf8 @uri=#<URI::GID gid://internship/ActiveStorage::Blob/7>>
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190963]]
Completed 201 Created in 48ms (Views: 0.1ms | ActiveRecord: 5.8ms | Allocations: 20064)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:15:48 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (0.5ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 2960)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:15:48 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.1ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 1522)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:15:48 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1391)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_create_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.4ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started POST "/api/v1/applicants_roles" for 127.0.0.1 at 2023-05-26 00:15:48 +0000
Processing by Api::V1::ApplicantsRolesController#create as JSON
  Parameters: {"role_id"=>980190962, "applicant_id"=>980190962, "applicants_role"=>{"applicant_id"=>980190962, "role_id"=>980190962}}
  [1m[36mCACHE Applicant Load (0.0ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Create (0.7ms)[0m  [1m[32mINSERT INTO "applicants_roles" ("applicant_id", "role_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["status", nil], ["created_at", "2023-05-26 00:15:48.738036"], ["updated_at", "2023-05-26 00:15:48.738036"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 1962)
  [1m[36mApplicantsRole Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_destroy_applicant_role
-----------------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started DELETE "/api/v1/applicants_roles.980190962" for 127.0.0.1 at 2023-05-26 00:15:48 +0000
ApplicantsRolesControllerTest - test_should_destroy_applicant_role: ActionController::RoutingError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:15:48 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"test"}, "id"=>"980190962"}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Update (0.2ms)[0m  [1m[33mUPDATE "roles" SET "name" = $1, "updated_at" = $2 WHERE "roles"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:15:48.760322"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 2961)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:15:48 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"test"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (0.8ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2023-05-26 00:15:48.781725"], ["updated_at", "2023-05-26 00:15:48.781725"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.4ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190963]]
Completed 201 Created in 7ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 1049)
  [1m[36mRole Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:15:48 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.4ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 2783)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:15:48 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 924)
  [1m[36mRole Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:15:48 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1438)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.0ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-26 00:18:25.180920', '2023-05-26 00:18:25.180920'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-26 00:18:25.180920', '2023-05-26 00:18:25.180920');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-26 00:18:25.185551', '2023-05-26 00:18:25.185551'), (298486374, 298486374, 298486374, 1, '2023-05-26 00:18:25.185551', '2023-05-26 00:18:25.185551');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-26 00:18:25.188323', '2023-05-26 00:18:25.188323'), (298486374, 'Backend', '2023-05-26 00:18:25.188323', '2023-05-26 00:18:25.188323')[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:18:25 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 27ms (Views: 0.3ms | ActiveRecord: 2.2ms | Allocations: 14304)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:18:25 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.3ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.3ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 1799)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:18:25 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (0.7ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 2718)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:18:25 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:18:25.180Z", "updated_at"=>"2023-05-26T00:18:25.180Z"}}, "name"=>"test", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffff8f88ca90>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:18:25.180Z", "updated_at"=>"2023-05-26T00:18:25.180Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "name" = $1, "updated_at" = $2 WHERE "applicants"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:18:25.404844"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 2418)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:18:25 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:18:25.180Z", "updated_at"=>"2023-05-26T00:18:25.180Z"}}, "name"=>"test", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffff8f860e90>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:18:25.180Z", "updated_at"=>"2023-05-26T00:18:25.180Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (0.6ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "test"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-26 00:18:25.419589"], ["updated_at", "2023-05-26 00:18:25.419589"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "s9la9zvq681sfdt6qf9r7yp4f1s9"], ["filename", "default-user-image.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 1497], ["checksum", "EwABhHPMADgYeqoOJgT6Jw=="], ["created_at", "2023-05-26 00:18:25.452811"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "avatar"], ["record_type", "Applicant"], ["record_id", 980190963], ["blob_id", 8], ["created_at", "2023-05-26 00:18:25.455165"]]
  [1m[36mApplicant Update (0.3ms)[0m  [1m[33mUPDATE "applicants" SET "updated_at" = $1 WHERE "applicants"."id" = $2[0m  [["updated_at", "2023-05-26 00:18:25.456852"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (6.1ms) [0m[32mUploaded file to key: s9la9zvq681sfdt6qf9r7yp4f1s9 (checksum: EwABhHPMADgYeqoOJgT6Jw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2cf72ec2-b3ba-467d-8a41-d9f0f63cb4ee) to Test(default) with arguments: #<GlobalID:0x0000ffff8f7a5938 @uri=#<URI::GID gid://internship/ActiveStorage::Blob/8>>
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190963]]
Completed 201 Created in 50ms (Views: 0.1ms | ActiveRecord: 7.0ms | Allocations: 19975)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:18:25 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 2424)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:18:25 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 964)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:18:25 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.3ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 0.4ms | ActiveRecord: 1.7ms | Allocations: 2784)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:18:25 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"test"}, "id"=>"980190962"}
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Update (0.2ms)[0m  [1m[33mUPDATE "roles" SET "name" = $1, "updated_at" = $2 WHERE "roles"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:18:25.532429"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 2003)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:18:25 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"test"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (0.6ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2023-05-26 00:18:25.547348"], ["updated_at", "2023-05-26 00:18:25.547348"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190963]]
Completed 201 Created in 4ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 1048)
  [1m[36mRole Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_create_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started POST "/api/v1/applicants_roles" for 127.0.0.1 at 2023-05-26 00:18:25 +0000
Processing by Api::V1::ApplicantsRolesController#create as JSON
  Parameters: {"role_id"=>980190962, "applicant_id"=>980190962, "applicants_role"=>{"applicant_id"=>980190962, "role_id"=>980190962}}
  [1m[36mCACHE Applicant Load (0.0ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Create (0.8ms)[0m  [1m[32mINSERT INTO "applicants_roles" ("applicant_id", "role_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["status", nil], ["created_at", "2023-05-26 00:18:25.565197"], ["updated_at", "2023-05-26 00:18:25.565197"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 1894)
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_destroy_applicant_role
-----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started DELETE "/api/v1/applicants/980190962.980190962" for 127.0.0.1 at 2023-05-26 00:18:25 +0000
Processing by Api::V1::ApplicantsController#destroy as */*
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 1141)
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (2.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.6ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-26 00:21:35.451202', '2023-05-26 00:21:35.451202'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-26 00:21:35.451202', '2023-05-26 00:21:35.451202');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-26 00:21:35.460617', '2023-05-26 00:21:35.460617'), (298486374, 298486374, 298486374, 1, '2023-05-26 00:21:35.460617', '2023-05-26 00:21:35.460617');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-26 00:21:35.464463', '2023-05-26 00:21:35.464463'), (298486374, 'Backend', '2023-05-26 00:21:35.464463', '2023-05-26 00:21:35.464463')[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_update_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962.980190962" for 127.0.0.1 at 2023-05-26 00:21:35 +0000
Processing by Api::V1::ApplicantsController#update as */*
  Parameters: {"status"=>"accepted", "id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 400 Bad Request in 8ms (ActiveRecord: 0.3ms | Allocations: 3386)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_create_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started POST "/api/v1/applicants_roles" for 127.0.0.1 at 2023-05-26 00:21:35 +0000
Processing by Api::V1::ApplicantsRolesController#create as JSON
  Parameters: {"role_id"=>980190962, "applicant_id"=>980190962, "applicants_role"=>{"applicant_id"=>980190962, "role_id"=>980190962}}
  [1m[36mCACHE Applicant Load (0.0ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Create (0.9ms)[0m  [1m[32mINSERT INTO "applicants_roles" ("applicant_id", "role_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["status", nil], ["created_at", "2023-05-26 00:21:35.656149"], ["updated_at", "2023-05-26 00:21:35.656149"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 12ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 6274)
  [1m[36mApplicantsRole Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_destroy_applicant_role
-----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started DELETE "/api/v1/applicants/980190962.980190962" for 127.0.0.1 at 2023-05-26 00:21:35 +0000
Processing by Api::V1::ApplicantsController#destroy as */*
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 2.5ms | Allocations: 5208)
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:21:35 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.6ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 3655)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:21:35 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.3ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 2.0ms | Allocations: 2835)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:21:35 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"test"}, "id"=>"980190962"}
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Update (0.2ms)[0m  [1m[33mUPDATE "roles" SET "name" = $1, "updated_at" = $2 WHERE "roles"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:21:35.735063"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.3ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 2170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:21:35 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"test"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (0.6ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2023-05-26 00:21:35.749809"], ["updated_at", "2023-05-26 00:21:35.749809"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190963]]
Completed 201 Created in 4ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1049)
  [1m[36mRole Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:21:35 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.1ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 937)
  [1m[36mRole Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:21:35 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.4ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 1807)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:21:35 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 2671)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:21:35 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:21:35.451Z", "updated_at"=>"2023-05-26T00:21:35.451Z"}}, "name"=>"test", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.5ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffff881a8500>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:21:35.451Z", "updated_at"=>"2023-05-26T00:21:35.451Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Update (0.3ms)[0m  [1m[33mUPDATE "applicants" SET "name" = $1, "updated_at" = $2 WHERE "applicants"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:21:35.827166"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 2076)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:21:35 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:21:35.451Z", "updated_at"=>"2023-05-26T00:21:35.451Z"}}, "name"=>"test", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffff881802f8>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:21:35.451Z", "updated_at"=>"2023-05-26T00:21:35.451Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (0.7ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "test"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-26 00:21:35.842381"], ["updated_at", "2023-05-26 00:21:35.842381"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "2tid0tjpzif32okqh0rd0gp6opvr"], ["filename", "default-user-image.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 1497], ["checksum", "EwABhHPMADgYeqoOJgT6Jw=="], ["created_at", "2023-05-26 00:21:35.873563"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "avatar"], ["record_type", "Applicant"], ["record_id", 980190963], ["blob_id", 9], ["created_at", "2023-05-26 00:21:35.876243"]]
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "updated_at" = $1 WHERE "applicants"."id" = $2[0m  [["updated_at", "2023-05-26 00:21:35.877752"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (5.6ms) [0m[32mUploaded file to key: 2tid0tjpzif32okqh0rd0gp6opvr (checksum: EwABhHPMADgYeqoOJgT6Jw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2d35ac85-2819-4bfc-93b7-66142d3f1373) to Test(default) with arguments: #<GlobalID:0x0000ffff8654a430 @uri=#<URI::GID gid://internship/ActiveStorage::Blob/9>>
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190963]]
Completed 201 Created in 48ms (Views: 0.1ms | ActiveRecord: 7.2ms | Allocations: 19829)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:21:35 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1173)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.9ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-26 00:22:49.863300', '2023-05-26 00:22:49.863300'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-26 00:22:49.863300', '2023-05-26 00:22:49.863300');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-26 00:22:49.867717', '2023-05-26 00:22:49.867717'), (298486374, 298486374, 298486374, 1, '2023-05-26 00:22:49.867717', '2023-05-26 00:22:49.867717');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-26 00:22:49.869629', '2023-05-26 00:22:49.869629'), (298486374, 'Backend', '2023-05-26 00:22:49.869629', '2023-05-26 00:22:49.869629')[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:22:50 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.7ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 30ms (Views: 0.3ms | ActiveRecord: 2.3ms | Allocations: 15947)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:22:50 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"test"}, "id"=>"980190962"}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Update (0.3ms)[0m  [1m[33mUPDATE "roles" SET "name" = $1, "updated_at" = $2 WHERE "roles"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:22:50.052610"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 2563)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:22:50 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1132)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:22:50 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"test"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (0.7ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2023-05-26 00:22:50.079637"], ["updated_at", "2023-05-26 00:22:50.079637"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190963]]
Completed 201 Created in 4ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1114)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:22:50 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (1.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 0.4ms | ActiveRecord: 3.0ms | Allocations: 2803)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:22:50 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.4ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 2343)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:22:50 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:22:49.863Z", "updated_at"=>"2023-05-26T00:22:49.863Z"}}, "name"=>"test", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.4ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffff8538c5e0>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:22:49.863Z", "updated_at"=>"2023-05-26T00:22:49.863Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Update (0.3ms)[0m  [1m[33mUPDATE "applicants" SET "name" = $1, "updated_at" = $2 WHERE "applicants"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:22:50.142906"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 2194)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:22:50 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (1.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.3ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 2.4ms | Allocations: 1321)
  [1m[36mApplicant Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:22:50 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:22:49.863Z", "updated_at"=>"2023-05-26T00:22:49.863Z"}}, "name"=>"test", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffff85345320>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:22:49.863Z", "updated_at"=>"2023-05-26T00:22:49.863Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (0.6ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "test"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-26 00:22:50.180940"], ["updated_at", "2023-05-26 00:22:50.180940"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "bq8jlua96p454r2dj1gkxw63vcz7"], ["filename", "default-user-image.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 1497], ["checksum", "EwABhHPMADgYeqoOJgT6Jw=="], ["created_at", "2023-05-26 00:22:50.212212"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "avatar"], ["record_type", "Applicant"], ["record_id", 980190963], ["blob_id", 10], ["created_at", "2023-05-26 00:22:50.214037"]]
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "updated_at" = $1 WHERE "applicants"."id" = $2[0m  [["updated_at", "2023-05-26 00:22:50.215430"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (6.7ms) [0m[32mUploaded file to key: bq8jlua96p454r2dj1gkxw63vcz7 (checksum: EwABhHPMADgYeqoOJgT6Jw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6393ee69-7c8f-4bdb-ba53-8dcb4e147e90) to Test(default) with arguments: #<GlobalID:0x0000ffff7f70a858 @uri=#<URI::GID gid://internship/ActiveStorage::Blob/10>>
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190963]]
Completed 201 Created in 48ms (Views: 0.1ms | ActiveRecord: 5.8ms | Allocations: 19906)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:22:50 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.4ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 2733)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_destroy_applicant_role
-----------------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started DELETE "/api/v1/applicants/980190962.980190962" for 127.0.0.1 at 2023-05-26 00:22:50 +0000
Processing by Api::V1::ApplicantsController#destroy as */*
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.4ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.3ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 1125)
  [1m[36mApplicantsRole Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_create_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started POST "/api/v1/applicants_roles" for 127.0.0.1 at 2023-05-26 00:22:50 +0000
Processing by Api::V1::ApplicantsRolesController#create as JSON
  Parameters: {"role_id"=>980190962, "applicant_id"=>980190962, "applicants_role"=>{"applicant_id"=>980190962, "role_id"=>980190962}}
  [1m[36mCACHE Applicant Load (0.0ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Create (0.7ms)[0m  [1m[32mINSERT INTO "applicants_roles" ("applicant_id", "role_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["status", nil], ["created_at", "2023-05-26 00:22:50.274192"], ["updated_at", "2023-05-26 00:22:50.274192"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1897)
  [1m[36mApplicantsRole Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_update_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/api/v1/applicants/980190962.980190962" for 127.0.0.1 at 2023-05-26 00:22:50 +0000
Processing by Api::V1::ApplicantsController#update as */*
  Parameters: {"status"=>"accepted", "id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms | Allocations: 354)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.5ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-26 00:23:18.514707', '2023-05-26 00:23:18.514707'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-26 00:23:18.514707', '2023-05-26 00:23:18.514707');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-26 00:23:18.519168', '2023-05-26 00:23:18.519168'), (298486374, 298486374, 298486374, 1, '2023-05-26 00:23:18.519168', '2023-05-26 00:23:18.519168');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-26 00:23:18.521248', '2023-05-26 00:23:18.521248'), (298486374, 'Backend', '2023-05-26 00:23:18.521248', '2023-05-26 00:23:18.521248')[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_create_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started POST "/api/v1/applicants_roles" for 127.0.0.1 at 2023-05-26 00:23:18 +0000
Processing by Api::V1::ApplicantsRolesController#create as JSON
  Parameters: {"role_id"=>980190962, "applicant_id"=>980190962, "applicants_role"=>{"applicant_id"=>980190962, "role_id"=>980190962}}
  [1m[36mCACHE Applicant Load (0.0ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Create (0.8ms)[0m  [1m[32mINSERT INTO "applicants_roles" ("applicant_id", "role_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["status", nil], ["created_at", "2023-05-26 00:23:18.654160"], ["updated_at", "2023-05-26 00:23:18.654160"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 18ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 8944)
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_update_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_destroy_applicant_role
-----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started DELETE "/api/v1/applicants/980190962.980190962" for 127.0.0.1 at 2023-05-26 00:23:18 +0000
Processing by Api::V1::ApplicantsController#destroy as */*
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.3ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 2.7ms | Allocations: 5520)
  [1m[36mApplicantsRole Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:23:18 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (2.0ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 3.3ms | Allocations: 4734)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:23:18 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:23:18.514Z", "updated_at"=>"2023-05-26T00:23:18.514Z"}}, "name"=>"test", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffffa634f318>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:23:18.514Z", "updated_at"=>"2023-05-26T00:23:18.514Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Update (0.3ms)[0m  [1m[33mUPDATE "applicants" SET "name" = $1, "updated_at" = $2 WHERE "applicants"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:23:18.735233"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 2277)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:23:18 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.4ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 1115)
  [1m[36mApplicant Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:23:18 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:23:18.514Z", "updated_at"=>"2023-05-26T00:23:18.514Z"}}, "name"=>"test", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffffa4785088>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:23:18.514Z", "updated_at"=>"2023-05-26T00:23:18.514Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (0.6ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "test"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-26 00:23:18.765491"], ["updated_at", "2023-05-26 00:23:18.765491"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "iw5ltftsc7vftlqr2vzcd7whglfv"], ["filename", "default-user-image.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 1497], ["checksum", "EwABhHPMADgYeqoOJgT6Jw=="], ["created_at", "2023-05-26 00:23:18.798364"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "avatar"], ["record_type", "Applicant"], ["record_id", 980190963], ["blob_id", 11], ["created_at", "2023-05-26 00:23:18.800162"]]
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "updated_at" = $1 WHERE "applicants"."id" = $2[0m  [["updated_at", "2023-05-26 00:23:18.801418"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (6.5ms) [0m[32mUploaded file to key: iw5ltftsc7vftlqr2vzcd7whglfv (checksum: EwABhHPMADgYeqoOJgT6Jw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: cc869b26-b31e-4908-9796-6faba563042b) to Test(default) with arguments: #<GlobalID:0x0000ffffa46caf80 @uri=#<URI::GID gid://internship/ActiveStorage::Blob/11>>
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190963]]
Completed 201 Created in 49ms (Views: 0.1ms | ActiveRecord: 5.6ms | Allocations: 19843)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:23:18 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1447)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:23:18 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 3589)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:23:18 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"test"}, "id"=>"980190962"}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Update (0.3ms)[0m  [1m[33mUPDATE "roles" SET "name" = $1, "updated_at" = $2 WHERE "roles"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:23:18.855550"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 2153)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:23:18 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.3ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.3ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.3ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 927)
  [1m[36mRole Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:23:18 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"test"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (0.6ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2023-05-26 00:23:18.882586"], ["updated_at", "2023-05-26 00:23:18.882586"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190963]]
Completed 201 Created in 4ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 1047)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:23:18 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1438)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.4ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-26 00:23:30.509476', '2023-05-26 00:23:30.509476'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-26 00:23:30.509476', '2023-05-26 00:23:30.509476');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-26 00:23:30.513898', '2023-05-26 00:23:30.513898'), (298486374, 298486374, 298486374, 1, '2023-05-26 00:23:30.513898', '2023-05-26 00:23:30.513898');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-26 00:23:30.515989', '2023-05-26 00:23:30.515989'), (298486374, 'Backend', '2023-05-26 00:23:30.515989', '2023-05-26 00:23:30.515989')[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_create_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started POST "/api/v1/applicants_roles" for 127.0.0.1 at 2023-05-26 00:23:30 +0000
Processing by Api::V1::ApplicantsRolesController#create as JSON
  Parameters: {"role_id"=>980190962, "applicant_id"=>980190962, "applicants_role"=>{"applicant_id"=>980190962, "role_id"=>980190962}}
  [1m[36mCACHE Applicant Load (0.0ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Create (0.8ms)[0m  [1m[32mINSERT INTO "applicants_roles" ("applicant_id", "role_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["status", nil], ["created_at", "2023-05-26 00:23:30.688792"], ["updated_at", "2023-05-26 00:23:30.688792"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 18ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 8947)
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_destroy_applicant_role
-----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started DELETE "/api/v1/applicants/980190962.980190962" for 127.0.0.1 at 2023-05-26 00:23:30 +0000
Processing by Api::V1::ApplicantsController#destroy as */*
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 5528)
  [1m[36mApplicantsRole Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_update_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/api/v1/applicants/980190962.980190962" for 127.0.0.1 at 2023-05-26 00:23:30 +0000
Processing by Api::V1::ApplicantsController#update as */*
  Parameters: {"status"=>"accepted", "id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms | Allocations: 381)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:23:30 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:23:30.509Z", "updated_at"=>"2023-05-26T00:23:30.509Z"}}, "name"=>"test", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffff87209f90>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:23:30.509Z", "updated_at"=>"2023-05-26T00:23:30.509Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (0.8ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "test"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-26 00:23:30.739151"], ["updated_at", "2023-05-26 00:23:30.739151"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "zlbyx7w2by008xscn65zz5d92hi0"], ["filename", "default-user-image.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 1497], ["checksum", "EwABhHPMADgYeqoOJgT6Jw=="], ["created_at", "2023-05-26 00:23:30.775481"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "avatar"], ["record_type", "Applicant"], ["record_id", 980190963], ["blob_id", 12], ["created_at", "2023-05-26 00:23:30.777208"]]
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "updated_at" = $1 WHERE "applicants"."id" = $2[0m  [["updated_at", "2023-05-26 00:23:30.778514"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (5.4ms) [0m[32mUploaded file to key: zlbyx7w2by008xscn65zz5d92hi0 (checksum: EwABhHPMADgYeqoOJgT6Jw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e2ead846-c803-4039-a552-ab8f7062c60c) to Test(default) with arguments: #<GlobalID:0x0000ffff87146748 @uri=#<URI::GID gid://internship/ActiveStorage::Blob/12>>
  [1m[36mRole Load (0.9ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190963]]
Completed 201 Created in 54ms (Views: 0.2ms | ActiveRecord: 6.7ms | Allocations: 21611)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:23:30 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.3ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 1175)
  [1m[36mApplicant Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:23:30 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:23:30.509Z", "updated_at"=>"2023-05-26T00:23:30.509Z"}}, "name"=>"test", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffff87102318>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:23:30.509Z", "updated_at"=>"2023-05-26T00:23:30.509Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "name" = $1, "updated_at" = $2 WHERE "applicants"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:23:30.814775"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2035)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.4ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:23:30 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (0.6ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 2955)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:23:30 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.5ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.3ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.3ms | Allocations: 1400)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:23:30 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"test"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (0.7ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2023-05-26 00:23:30.874086"], ["updated_at", "2023-05-26 00:23:30.874086"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190963]]
Completed 201 Created in 5ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 1984)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:23:30 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 1050)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:23:30 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"test"}, "id"=>"980190962"}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Update (0.3ms)[0m  [1m[33mUPDATE "roles" SET "name" = $1, "updated_at" = $2 WHERE "roles"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:23:30.906949"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 1891)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:23:30 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 2783)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:23:30 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1438)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.2ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-26 00:26:38.640112', '2023-05-26 00:26:38.640112'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-26 00:26:38.640112', '2023-05-26 00:26:38.640112');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-26 00:26:38.644468', '2023-05-26 00:26:38.644468'), (298486374, 298486374, 298486374, 1, '2023-05-26 00:26:38.644468', '2023-05-26 00:26:38.644468');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-26 00:26:38.646498', '2023-05-26 00:26:38.646498'), (298486374, 'Backend', '2023-05-26 00:26:38.646498', '2023-05-26 00:26:38.646498')[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.6ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:26:38 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.6ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 31ms (Views: 0.4ms | ActiveRecord: 2.2ms | Allocations: 15954)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:26:38 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"test"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (0.8ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2023-05-26 00:26:38.834630"], ["updated_at", "2023-05-26 00:26:38.834630"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.5ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190963]]
Completed 201 Created in 7ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 1668)
  [1m[36mRole Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:26:38 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.5ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 2.5ms | Allocations: 2823)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:26:38 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"test"}, "id"=>"980190962"}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Update (0.6ms)[0m  [1m[33mUPDATE "roles" SET "name" = $1, "updated_at" = $2 WHERE "roles"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:26:38.870071"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 1993)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:26:38 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.4ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.3ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 1126)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_create_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started POST "/api/v1/applicants_roles" for 127.0.0.1 at 2023-05-26 00:26:38 +0000
Processing by Api::V1::ApplicantsRolesController#create as JSON
  Parameters: {"role_id"=>980190962, "applicant_id"=>980190962, "applicants_role"=>{"applicant_id"=>980190962, "role_id"=>980190962}}
  [1m[36mCACHE Applicant Load (0.0ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Create (0.9ms)[0m  [1m[32mINSERT INTO "applicants_roles" ("applicant_id", "role_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["status", nil], ["created_at", "2023-05-26 00:26:38.904492"], ["updated_at", "2023-05-26 00:26:38.904492"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 2016)
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_update_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/api/v1/applicants_roles/980190962/980190962" for 127.0.0.1 at 2023-05-26 00:26:38 +0000
Processing by Api::V1::ApplicantsRolesController#update as JSON
  Parameters: {"status"=>"accepted", "applicant_id"=>"980190962", "role_id"=>"980190962", "applicants_role"=>{"status"=>"accepted"}}
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 559)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_destroy_applicant_role
-----------------------------------------------------------------
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started DELETE "/api/v1/applicants/980190962.980190962" for 127.0.0.1 at 2023-05-26 00:26:38 +0000
Processing by Api::V1::ApplicantsController#destroy as */*
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.1ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1849)
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:26:38 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1823)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:26:38 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:26:38.640Z", "updated_at"=>"2023-05-26T00:26:38.640Z"}}, "name"=>"test", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffffa24d8148>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:26:38.640Z", "updated_at"=>"2023-05-26T00:26:38.640Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (0.6ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "test"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-26 00:26:38.961035"], ["updated_at", "2023-05-26 00:26:38.961035"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "90w76ekv09e59bvjkeifxsgu92aq"], ["filename", "default-user-image.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 1497], ["checksum", "EwABhHPMADgYeqoOJgT6Jw=="], ["created_at", "2023-05-26 00:26:38.993237"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "avatar"], ["record_type", "Applicant"], ["record_id", 980190963], ["blob_id", 13], ["created_at", "2023-05-26 00:26:38.994931"]]
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "updated_at" = $1 WHERE "applicants"."id" = $2[0m  [["updated_at", "2023-05-26 00:26:38.996300"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (5.7ms) [0m[32mUploaded file to key: 90w76ekv09e59bvjkeifxsgu92aq (checksum: EwABhHPMADgYeqoOJgT6Jw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 693ab1c4-f00c-4fd7-8d9c-582d2321ae48) to Test(default) with arguments: #<GlobalID:0x0000ffffa089f9b8 @uri=#<URI::GID gid://internship/ActiveStorage::Blob/13>>
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190963]]
Completed 201 Created in 47ms (Views: 0.1ms | ActiveRecord: 5.8ms | Allocations: 20079)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:26:39 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.4ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 2733)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:26:39 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:26:38.640Z", "updated_at"=>"2023-05-26T00:26:38.640Z"}}, "name"=>"test", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffffa0856588>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:26:38.640Z", "updated_at"=>"2023-05-26T00:26:38.640Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "name" = $1, "updated_at" = $2 WHERE "applicants"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:26:39.032541"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.3ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 1.3ms | Allocations: 1935)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:26:39 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1115)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" DISABLE TRIGGER ALL;ALTER TABLE "applicants" DISABLE TRIGGER ALL;ALTER TABLE "applicants_roles" DISABLE TRIGGER ALL;ALTER TABLE "roles" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.4ms)[0m  [1m[31mDELETE FROM "applicants";
DELETE FROM "applicants_roles";
DELETE FROM "roles";
INSERT INTO "applicants" ("id", "name", "phone", "email", "created_at", "updated_at") VALUES (980190962, 'Maria', '87654321', 'email2@gmail.com', '2023-05-26 00:26:54.995286', '2023-05-26 00:26:54.995286'), (298486374, 'jubileu', '12345678', 'email@gmail.com', '2023-05-26 00:26:54.995286', '2023-05-26 00:26:54.995286');
INSERT INTO "applicants_roles" ("id", "applicant_id", "role_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 2, '2023-05-26 00:26:54.999629', '2023-05-26 00:26:54.999629'), (298486374, 298486374, 298486374, 1, '2023-05-26 00:26:54.999629', '2023-05-26 00:26:54.999629');
INSERT INTO "roles" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'Frontend', '2023-05-26 00:26:55.002216', '2023-05-26 00:26:55.002216'), (298486374, 'Backend', '2023-05-26 00:26:55.002216', '2023-05-26 00:26:55.002216')[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ENABLE TRIGGER ALL;ALTER TABLE "applicants" ENABLE TRIGGER ALL;ALTER TABLE "applicants_roles" ENABLE TRIGGER ALL;ALTER TABLE "roles" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_create_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started POST "/api/v1/applicants_roles" for 127.0.0.1 at 2023-05-26 00:26:55 +0000
Processing by Api::V1::ApplicantsRolesController#create as JSON
  Parameters: {"role_id"=>980190962, "applicant_id"=>980190962, "applicants_role"=>{"applicant_id"=>980190962, "role_id"=>980190962}}
  [1m[36mCACHE Applicant Load (0.0ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Create (0.9ms)[0m  [1m[32mINSERT INTO "applicants_roles" ("applicant_id", "role_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["status", nil], ["created_at", "2023-05-26 00:26:55.193037"], ["updated_at", "2023-05-26 00:26:55.193037"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 19ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 8948)
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_destroy_applicant_role
-----------------------------------------------------------------
  [1m[36mApplicant Load (0.5ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
Started DELETE "/api/v1/applicants/980190962.980190962" for 127.0.0.1 at 2023-05-26 00:26:55 +0000
Processing by Api::V1::ApplicantsController#destroy as */*
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.3ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.3ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 2.6ms | Allocations: 5527)
  [1m[36mApplicantsRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants_roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
ApplicantsRolesControllerTest: test_should_update_applicant_role
----------------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PUT "/api/v1/applicants_roles/980190962/980190962" for 127.0.0.1 at 2023-05-26 00:26:55 +0000
Processing by Api::V1::ApplicantsRolesController#update as JSON
  Parameters: {"status"=>"rejected", "applicant_id"=>"980190962", "role_id"=>"980190962", "applicants_role"=>{"status"=>"rejected"}}
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE Applicant Load (0.0ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCACHE Role Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1088)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_update_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started PATCH "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:26:55 +0000
Processing by Api::V1::ApplicantsController#update as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:26:54.995Z", "updated_at"=>"2023-05-26T00:26:54.995Z"}}, "name"=>"test", "phone"=>"87654321"}, "id"=>"980190962"}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: update, request: #<ActionDispatch::Request:0x0000ffff99ac6f68>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:26:54.995Z", "updated_at"=>"2023-05-26T00:26:54.995Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Update (0.3ms)[0m  [1m[33mUPDATE "applicants" SET "name" = $1, "updated_at" = $2 WHERE "applicants"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:26:55.250587"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 3964)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
ApplicantsControllerTest: test_should_create_applicant
------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
Started POST "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:26:55 +0000
Processing by Api::V1::ApplicantsController#create as JSON
  Parameters: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:26:54.995Z", "updated_at"=>"2023-05-26T00:26:54.995Z"}}, "name"=>"test", "phone"=>"87654321"}}
[31mUnpermitted parameter: :avatar. Context: { controller: Api::V1::ApplicantsController, action: create, request: #<ActionDispatch::Request:0x0000ffff9b13a858>, params: {"applicant"=>{"avatar"=>{"name"=>"avatar", "record"=>{"id"=>980190962, "name"=>"Maria", "phone"=>"87654321", "email"=>"email2@gmail.com", "created_at"=>"2023-05-26T00:26:54.995Z", "updated_at"=>"2023-05-26T00:26:54.995Z"}}, "name"=>"test", "phone"=>"87654321"}, "controller"=>"api/v1/applicants", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicant Create (0.7ms)[0m  [1m[32mINSERT INTO "applicants" ("name", "phone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "test"], ["phone", "87654321"], ["email", nil], ["created_at", "2023-05-26 00:26:55.272973"], ["updated_at", "2023-05-26 00:26:55.272973"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190963], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "qnnj90uhifjyu3ig2s650kfhf7mg"], ["filename", "default-user-image.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 1497], ["checksum", "EwABhHPMADgYeqoOJgT6Jw=="], ["created_at", "2023-05-26 00:26:55.312074"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "avatar"], ["record_type", "Applicant"], ["record_id", 980190963], ["blob_id", 14], ["created_at", "2023-05-26 00:26:55.314563"]]
  [1m[36mApplicant Update (0.2ms)[0m  [1m[33mUPDATE "applicants" SET "updated_at" = $1 WHERE "applicants"."id" = $2[0m  [["updated_at", "2023-05-26 00:26:55.315958"], ["id", 980190963]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (5.8ms) [0m[32mUploaded file to key: qnnj90uhifjyu3ig2s650kfhf7mg (checksum: EwABhHPMADgYeqoOJgT6Jw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e2cc9b25-2cc8-4bbf-81bf-c9a7457036fb) to Test(default) with arguments: #<GlobalID:0x0000ffff9b03f138 @uri=#<URI::GID gid://internship/ActiveStorage::Blob/14>>
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190963]]
Completed 201 Created in 56ms (Views: 0.2ms | ActiveRecord: 6.5ms | Allocations: 19959)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ApplicantsControllerTest: test_should_destroy_applicant
-------------------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
Started DELETE "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:26:55 +0000
Processing by Api::V1::ApplicantsController#destroy as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.3ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicant Destroy (0.2ms)[0m  [1m[31mDELETE FROM "applicants" WHERE "applicants"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 1173)
  [1m[36mApplicant Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "applicants"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
ApplicantsControllerTest: test_should_show_applicant
----------------------------------------------------
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants/980190962" for 127.0.0.1 at 2023-05-26 00:26:55 +0000
Processing by Api::V1::ApplicantsController#show as JSON
  Parameters: {"id"=>"980190962", "applicant"=>{}}
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1649)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
ApplicantsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mApplicant Load (0.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE "applicants"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/applicants" for 127.0.0.1 at 2023-05-26 00:26:55 +0000
Processing by Api::V1::ApplicantsController#index as JSON
  Parameters: {"applicant"=>{}}
  [1m[36mApplicant Load (1.1ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" WHERE (name ILIKE '%%')[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 980190962]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 980190962], ["applicant_id", 980190962], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "applicants_roles" ON "roles"."id" = "applicants_roles"."role_id" WHERE "applicants_roles"."applicant_id" = $1[0m  [["applicant_id", 298486374]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1 AND "applicants_roles"."applicant_id" = $2 LIMIT $3[0m  [["role_id", 298486374], ["applicant_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 2706)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_update_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:26:55 +0000
Processing by Api::V1::RolesController#update as JSON
  Parameters: {"role"=>{"name"=>"test"}, "id"=>"980190962"}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Update (0.5ms)[0m  [1m[33mUPDATE "roles" SET "name" = $1, "updated_at" = $2 WHERE "roles"."id" = $3[0m  [["name", "test"], ["updated_at", "2023-05-26 00:26:55.386637"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.1ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 2961)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
RolesControllerTest: test_should_create_role
--------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started POST "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:26:55 +0000
Processing by Api::V1::RolesController#create as JSON
  Parameters: {"role"=>{"name"=>"test"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Create (0.8ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2023-05-26 00:26:55.402708"], ["updated_at", "2023-05-26 00:26:55.402708"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190963]]
Completed 201 Created in 6ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 1049)
  [1m[36mRole Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
RolesControllerTest: test_should_destroy_role
---------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
Started DELETE "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:26:55 +0000
Processing by Api::V1::RolesController#destroy as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mApplicantsRole Destroy (1.0ms)[0m  [1m[31mDELETE FROM "applicants_roles" WHERE "applicants_roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mRole Destroy (0.4ms)[0m  [1m[31mDELETE FROM "roles" WHERE "roles"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 924)
  [1m[36mRole Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "roles"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_show_role
------------------------------------------
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles/980190962" for 127.0.0.1 at 2023-05-26 00:26:55 +0000
Processing by Api::V1::RolesController#show as JSON
  Parameters: {"id"=>"980190962", "role"=>{}}
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.3ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1438)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
RolesControllerTest: test_should_get_index
------------------------------------------
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/api/v1/roles" for 127.0.0.1 at 2023-05-26 00:26:55 +0000
Processing by Api::V1::RolesController#index as JSON
  Parameters: {"role"=>{}}
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles" WHERE (name ILIKE '%%')[0m
  [1m[36mApplicant Load (0.2ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 980190962]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 980190962], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.4ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 980190962], ["role_id", 980190962], ["LIMIT", 1]]
  [1m[36mApplicant Load (0.3ms)[0m  [1m[34mSELECT "applicants".* FROM "applicants" INNER JOIN "applicants_roles" ON "applicants"."id" = "applicants_roles"."applicant_id" WHERE "applicants_roles"."role_id" = $1[0m  [["role_id", 298486374]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 298486374], ["record_type", "Applicant"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mApplicantsRole Load (0.2ms)[0m  [1m[34mSELECT "applicants_roles".* FROM "applicants_roles" WHERE "applicants_roles"."applicant_id" = $1 AND "applicants_roles"."role_id" = $2 LIMIT $3[0m  [["applicant_id", 298486374], ["role_id", 298486374], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 2.0ms | Allocations: 2783)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
